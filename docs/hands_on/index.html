<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.72.0" />

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">



<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/new-site/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/new-site/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/new-site/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/new-site/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/new-site/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/new-site/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/new-site/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/new-site/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/new-site/favicons/android-192x192.png" sizes="192x192">

<title>Hands-on tutorial | PDI</title><meta property="og:title" content="Hands-on tutorial" />
<meta property="og:description" content="Setup You need to install PDI before proceeding with this tutorial.  After PDI is installed, you can proceed with getting the sources for the hands-on tutorial from github.
git clone https://github.com/pdidev/tutorial.git Before compilation, configure the tutorial by detecting all dependencies:
cd tutorial pdirun cmake . Now you&#39;re ready to work, good luck!
Tutorial For each exercise, once you&#39;ve modified it, you can compile it by running the following command:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://pdi.julien-bigot.fr/new-site/docs/hands_on/" />

<meta itemprop="name" content="Hands-on tutorial">
<meta itemprop="description" content="Setup You need to install PDI before proceeding with this tutorial.  After PDI is installed, you can proceed with getting the sources for the hands-on tutorial from github.
git clone https://github.com/pdidev/tutorial.git Before compilation, configure the tutorial by detecting all dependencies:
cd tutorial pdirun cmake . Now you&#39;re ready to work, good luck!
Tutorial For each exercise, once you&#39;ve modified it, you can compile it by running the following command:">

<meta itemprop="wordCount" content="1430">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Hands-on tutorial"/>
<meta name="twitter:description" content="Setup You need to install PDI before proceeding with this tutorial.  After PDI is installed, you can proceed with getting the sources for the hands-on tutorial from github.
git clone https://github.com/pdidev/tutorial.git Before compilation, configure the tutorial by detecting all dependencies:
cd tutorial pdirun cmake . Now you&#39;re ready to work, good luck!
Tutorial For each exercise, once you&#39;ve modified it, you can compile it by running the following command:"/>





<link rel="preload" href="/new-site/scss/main.min.09ab6e53fa62c88bcdcdf3da042c6d90582d77ac5999774b851cace99f88b707.css" as="style">
<link href="/new-site/scss/main.min.09ab6e53fa62c88bcdcdf3da042c6d90582d77ac5999774b851cace99f88b707.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>




  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/new-site/">
		<span class="navbar-logo"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="svg8" viewBox="0 0 40 40"><defs id="defs2"><linearGradient id="linearGradient846"><stop id="stop842" offset="0" style="stop-color:#3a82c2;stop-opacity:1"/><stop style="stop-color:#073763;stop-opacity:1" offset=".4946366" id="stop850"/><stop id="stop844" offset="1" style="stop-color:#3a82c2;stop-opacity:1"/></linearGradient><linearGradient gradientTransform="matrix(1.1064998,0,0,1.1064998,-2.8109111,-3.2500611)" gradientUnits="userSpaceOnUse" y2="6.0482411" x2="25.209953" y1="41.294521" x1="25.249392" id="linearGradient848" xlink:href="#linearGradient846"/><filter id="filter1270" style="color-interpolation-filters:sRGB"><feFlood id="feFlood1260" result="flood" flood-color="rgb(0,0,0)" flood-opacity=".498039"/><feComposite id="feComposite1262" result="composite1" operator="in" in2="SourceGraphic" in="flood"/><feGaussianBlur id="feGaussianBlur1264" result="blur" stdDeviation="1" in="composite1"/><feOffset id="feOffset1266" result="offset" dy=".6" dx=".6"/><feComposite id="feComposite1268" result="composite2" operator="over" in2="offset" in="SourceGraphic"/></filter></defs><g transform="translate(-4.6772165,-3.1371543)" id="layer1"><circle r="19.5" cy="22.994598" cx="24.687487" id="path840" style="opacity:1;fill:url(#linearGradient848);fill-opacity:1;stroke:none;stroke-width:1;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"/><flowRoot transform="matrix(0.26458333,0,0,0.26458333,4.6772165,3.1371543)" style="font-style:normal;font-weight:400;font-size:40px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;fill:#000;fill-opacity:1;stroke:none" id="flowRoot852"><flowRegion id="flowRegion854"><rect y="55.823959" x="32.857143" height="43.92857" width="94.285713" id="rect856"/></flowRegion><flowPara id="flowPara858">PPd</flowPara></flowRoot><text transform="matrix(1.0723861,0,0,1.0723861,-1.9406576,-2.4256035)" id="text862" y="30.191469" x="10.006681" style="font-style:normal;font-weight:400;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0;word-spacing:0;fill:#fff;fill-opacity:1;stroke:none;stroke-width:.24672395;filter:url(#filter1270)"><tspan style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:17.63888931px;font-family:sans-serif;-inkscape-font-specification:sans-serif;fill:#fff;fill-opacity:1;stroke-width:.24672395" y="30.191469" x="10.006681" id="tspan860">PDI</tspan></text></g></svg></span><span class="text-uppercase font-weight-bold">PDI</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="/new-site/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/new-site/community/" ><span>Community</span></a>
			</li>
			
			
			<li class="nav-item dropdown d-none d-lg-block">
				<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	Versions
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/master/">git master</a>
	
	<a class="dropdown-item" href="/">latest release (0.5.1)</a>
	
	<a class="dropdown-item" href="/0.5.0/">release 0.5.0</a>
	
	<a class="dropdown-item" href="/0.4.1/">release 0.4.1</a>
	
</div>

			</li>
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav pt-2 pl-4" id="td-section-nav">
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Documentation</a>
  </li>
  <ul>
    <li class="collapse show" id="new-sitedocs">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-new-sitedocsconcepts" href="/new-site/docs/concepts/">Core Concepts</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-new-sitedocsdeprecated" href="/new-site/docs/deprecated/">Deprecated List</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-new-sitedocsfirst_steps" href="/new-site/docs/first_steps/">First steps with PDI</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-new-sitedocsfti_plugin" href="/new-site/docs/fti_plugin/">FTI plugin</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Full API reference</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsref">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">PDI</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdi">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/array_datatype/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Array_datatype</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdiarray_datatype">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/context/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Context</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdicontext">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/context/datatype_template_parser/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Datatype_template_parser</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdicontextdatatype_template_parser">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/context/iterator/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Iterator</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdicontextiterator">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/context_proxy/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Context_proxy</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdicontext_proxy">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/data_descriptor/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Data_descriptor</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdidata_descriptor">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/datatype/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Datatype</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdidatatype">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/datatype_template/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Datatype_template</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdidatatype_template">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/datatype_template_uptr/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Datatype_template_uptr</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdidatatype_template_uptr">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/datatype_uptr/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Datatype_uptr</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdidatatype_uptr">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/error/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Error</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdierror">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/expression/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Expression</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdiexpression">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/logger_sptr/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Logger_sptr</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdilogger_sptr">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/paraconf_wrapper/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Paraconf_wrapper</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdiparaconf_wrapper">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/plugin/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Plugin</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdiplugin">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/pointer_datatype/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Pointer_datatype</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdipointer_datatype">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/record_datatype/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Record_datatype</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdirecord_datatype">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/record_datatype/member/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Member</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdirecord_datatypemember">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/ref/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Ref</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdiref">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/ref_any/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Ref_any</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdiref_any">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/ref_r/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Ref_r</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdiref_r">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/ref_rw/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Ref_rw</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdiref_rw">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/ref_w/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Ref_w</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdiref_w">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/reference_base/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Reference_base</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdireference_base">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/reference_base/referenced_buffer/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Referenced_buffer</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdireference_basereferenced_buffer">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/reference_base/referenced_data/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Referenced_data</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdireference_basereferenced_data">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/scalar_datatype/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Scalar_datatype</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdiscalar_datatype">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi/scalar_kind/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Scalar_kind</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdiscalar_kind">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/pdi_errhandler_s/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">PDI_errhandler_s</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefpdi_errhandler_s">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/spdlog/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">spdlog</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefspdlog">
      
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/std/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">std</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefstd">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/new-site/docs/ref/std/hash__pdi__ref_any__r__w____/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">hash&lt; PDI::Ref_any&lt; R, W &gt; &gt;</a>
  </li>
  <ul>
    <li class="collapse " id="new-sitedocsrefstdhash__pdi__ref_any__r__w____">
      
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page  active" id="m-new-sitedocshands_on" href="/new-site/docs/hands_on/">Hands-on tutorial</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-new-sitedocshow_to_create_plugin" href="/new-site/docs/how_to_create_plugin/">How to create a plugin</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-new-sitedocsinstallation" href="/new-site/docs/installation/">Installation of PDI source distribution</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-new-sitedocspdi_example" href="/new-site/docs/pdi_example/">PDI example</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-new-sitedocsplugins" href="/new-site/docs/plugins/">Plugins</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-new-sitedocspycall_plugin" href="/new-site/docs/pycall_plugin/">Pycall plugin</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-new-sitedocsset_value_plugin" href="/new-site/docs/set_value_plugin/">Set_value plugin</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-new-sitedocsspecification_tree_ref" href="/new-site/docs/specification_tree_ref/">Specification tree Reference</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-new-sitedocsdecl_hdf5_plugin" href="/new-site/docs/decl_hdf5_plugin/">The Decl&#39;HDF5 plugin</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-new-sitedocsflowvr_plugin" href="/new-site/docs/flowvr_plugin/">The FlowVR plugin</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-new-sitedocsuser_code_plugin" href="/new-site/docs/user_code_plugin/">The user-code plugin</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-new-sitedocstrace_plugin" href="/new-site/docs/trace_plugin/">Trace plugin</a>
      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            














<nav id="TableOfContents">
  <ul>
    <li><a href="#setup">Setup</a></li>
    <li><a href="#tutorial">Tutorial</a>
      <ul>
        <li><a href="#ex1-getting-started">Ex1. Getting started</a></li>
        <li><a href="#ex2-now-with-some-pdi">Ex2. Now with some PDI</a></li>
        <li><a href="#ex3-hdf5-through-pdi">Ex3. HDF5 through PDI</a></li>
        <li><a href="#ex4-writing-some-real-data">Ex4. Writing some real data</a></li>
        <li><a href="#ex5-introducing-events">Ex5. Introducing events</a></li>
        <li><a href="#ex6-simplifying-the-code">Ex6. Simplifying the code</a></li>
        <li><a href="#ex7-writing-a-selection">Ex7. Writing a selection</a></li>
        <li><a href="#ex8-writing-an-advanced-selection">Ex8. Writing an advanced selection</a></li>
        <li><a href="#ex9-going-parallel">Ex9. Going parallel</a></li>
      </ul>
    </li>
    <li><a href="#what-next-">What next ?</a></li>
  </ul>
</nav>







          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		







<li class="breadcrumb-item" >
	<a href="http://pdi.julien-bigot.fr/new-site/docs/">Documentation</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="http://pdi.julien-bigot.fr/new-site/docs/hands_on/">Hands-on tutorial</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>Hands-on tutorial</h1>
    
	       
	<h2 id="setup">Setup</h2>


<div class="alert alert-primary" role="alert">

You need to <a href="Installation.html">install</a> PDI before proceeding with this tutorial.
</div>

<p>After PDI <a href="Installation.html">is installed</a>, you can proceed with getting the sources for the hands-on tutorial from <a href="https://github.com/pdidev/tutorial">github</a>.</p>
<pre><code>git clone https://github.com/pdidev/tutorial.git
</code></pre><p>Before compilation, configure the tutorial by detecting all dependencies:</p>
<pre><code>cd tutorial
pdirun cmake .
</code></pre><p>Now you're ready to work, <strong>good luck</strong>!</p>
<h2 id="tutorial">Tutorial</h2>
<p>For each exercise, once you've modified it, you can compile it by running the following command:</p>
<pre><code>Ex4. Writing some real data
make ex?
</code></pre><p>Where <code>?</code> is the number of the exercise.</p>
<p>Then, you can run it with the following command:</p>
<pre><code>pdirun mpirun -n 1 ./ex?
</code></pre><p>Where <code>?</code> is again the number of the exercise.</p>
<h3 id="ex1-getting-started">Ex1. Getting started</h3>
<p>Ex1. implements a simple heat equation solver using an explicit forward finite difference scheme parallelized with MPI as described in the <a href="PDI_example.html">PDI example</a>. If you want to better understand what's going on, you should read this description before continuing.</p>
<p>In the exercises however, PDI will only be used to decouple I/O operations. There is no need to fully dive in the core of the solver implemented in the <code>iter</code> and <code>exchange</code> functions. The specification tree in the <code>.yml</code> files and the <code>main</code> function are the locations where all the I/O-related aspects will be handled and the only ones you will actually need to fully understand or modify.</p>
<ul>
<li>Examine the source code, compile it and run it. There is no input/output operations in the code yet, so you can not see any result.</li>
</ul>
<p>This example uses the <a href="https://github.com/pdidev/paraconf">paraconf library</a> to read its parameters in <a href="https://yaml.org">yaml format</a> from the <code>ex1.yml</code> file. If you've never heard about yaml, have a quick look at <a href="First_steps.html#Yaml">this example</a>.</p>
<ul>
<li>Play with and understand the code parameters in <code>ex1.yml</code>.</li>
<li>Set values in <code>ex1.yml</code> to be able to run the code with 3 MPI processes.</li>
</ul>
<h3 id="ex2-now-with-some-pdi">Ex2. Now with some PDI</h3>
<p>Ex2. is the same code as ex1. with PDI calls added in main function. The PDI <a href="tra%60PDIce_plugin.html">Trace plugin</a> is used to trace PDI calls.</p>
<ul>
<li>Add the required <code>PDI_share</code> and <code>PDI_reclaim</code> calls to match the output of <code>ex2.log</code> file. Change only the <code>ex2.c</code> file. The calls for now don't need to make any logic, just match output to the <code>ex2.log</code>.</li>
</ul>


<div class="alert alert-primary" role="alert">

Notice that some share/reclaim pairs come one after the other while others are interlaced. Is one better than the other? If you do not know the answer to this question, please wait until Ex5. :)
</div>

<h3 id="ex3-hdf5-through-pdi">Ex3. HDF5 through PDI</h3>
<p>Let's take the code from ex2. and make it output some HDF5 data. No need to touch the C code here, the PDI yaml file should be enough. The <a href="trace_plugin.html">Trace plugin</a> was replaced by the <a href="Decl_HDF5_plugin.html">Dec'HDF5 plugin</a>.</p>
<p>Fill 2 sections in the yaml file:</p>
<ol>
<li>The <code>data</code> section to indicate to PDI the type of the fields that are exposed.</li>
<li>The <code>decl_hdf5</code> for the configuration of <a href="Decl_HDF5_plugin.html">Dec'HDF5 plugin</a>.</li>
</ol>
<p>Only <code>dsize</code> is written as of now, let's add <code>psize</code> and <code>pcoord</code> to match the content expected described in <code>ex3.href 5dump</code> (use <code>h5dump</code> command to see content of HDF5 file).</p>


<div class="alert alert-primary" role="alert">

If you rerun the exercise, remember to delete your old <code>ex3.h5</code> file, because the data will not be overwritten.
</div>

<h3 id="ex4-writing-some-real-data">Ex4. Writing some real data</h3>
<p>In this exercise each MPI process will write its local matrix to separete HDF5 files. Touch only the yaml file again.</p>
<p>This time write the real 2D data contained in <code>main_field</code> using 2 MPI processes.</p>
<p>Notice that a list to write multiple files was used in the decl_hdf5 section instead of a single mapping as before.</p>
<p>Unlike the other fields manipulated until now, the type of <code>main_field</code> is not fully known, its size is dynamic. By moving other fields in the <code>metadata</code> section, you can reference them from &quot;$ expressions&quot; in the configuration file. This can be used to specify a dynamic size for <code>main_field</code>.</p>
<p>Unlike the other fields manipulated until now, <code>main_field</code> is exposed multiple times. In order not to overwrite it every time it is exposed, you can add a <code>when</code> condition to restrict its output. Only write <code>main_field</code> at the second iteration (when <code>ii==1</code>).</p>
<p>Set the parallelism degree to 2 in height and try to match the expected content described in <code>ex4.h5dump</code>.</p>
<h3 id="ex5-introducing-events">Ex5. Introducing events</h3>
<p>In ex4, there were 2 pieces of data to <code>ex4-data*.h5</code>, but the file is opened and closed for each and every write. Since Decl'HDF5 only sees the data appear one after the other, it does not keep the file open. Since <code>ii</code> and <code>main_field</code> are shared in an interlaced way, they are both available at the same time and could be written without opening the file twice. You have to use events for that.</p>
<p>There are 3 main tasks in this exercise:</p>
<ol>
<li>Call PDI event named <code>loop</code> when both <code>ii</code> and <code>main_field</code> are shared. With the <a href="trace_plugin.html">Trace plugin</a>, check that the event is indeed triggered at the expected time as described in <code>ex5.log</code>.</li>
<li>Use the <code>on_event</code> mechanism to trigger the write of <code>ii</code> and <code>main_field</code>. This mechanism can be combined with a <code>when</code> directive, in that case the write is only executed when both mechanisms agree.</li>
<li>Also notice the extended syntax that make it possible to write data to a dataset with a name different from the data in PDI. Use this mechanism to write main_field at iterations 1 and 2, in two distinct groups <code>iter1</code> and <code>iter2</code>.</li>
</ol>
<p>Match the content as expected in <code>ex5.h5dump</code>.</p>
<h3 id="ex6-simplifying-the-code">Ex6. Simplifying the code</h3>
<p>As you can notice, the PDI code is quite redundant. In this exercise, you will use <code>PDI_expose</code> and <code>PDI_multi_expose</code> to simplify the code while keeping the exact same behaviour.</p>
<p>There are lots of matched <code>PDI_share</code>/<code>PDI_reclaim</code> in the code. Replace these by <code>PDI_expose</code> that is the exact equivalent of a <code>PDI_share</code> followed by a matching <code>PDI_reclaim</code>.</p>
<p>This replacement is not possible for interlaced <code>PDI_share</code>/<code>PDI_reclaim</code> with events in the middle. This case is however handled by <code>PDI_multi_expose</code> call that exposes all data, then triggers an event and finally does all the reclaim in reverse order. Replace the remaining <code>PDI_share</code>/<code>PDI_reclaim</code> by <code>PDI_expose</code>s and <code>PDI_multi_expose</code>s. There is one <code>PDI_share</code>/<code>PDI_reclaim</code> you can not replace.</p>
<p>Touch only the C file in this exercise.</p>
<p>Ensure that your code keeps the exact same behaviour by comparing its trace to <code>ex6.log</code>.</p>
<h3 id="ex7-writing-a-selection">Ex7. Writing a selection</h3>
<p>In this exercise, you will only write a selection (part) of the data to the HDF5 file.</p>
<p>As you can notice, now the dataset is independantly described in the file. Use two directives to specify a selection from the data to write and a selection in the dataset where to write.</p>
<ul>
<li><code>memory_selection</code> tells what part to take from the data.</li>
<li><code>dataset_selection</code> tells where to write this part of data in file.</li>
</ul>
<p>Restrict the selection to the second line from the data and write it to a one-dimensional dataset in file.</p>
<p>Touch only the yaml file in this exercise.</p>
<p>Match the expected output described in <code>ex7.out</code>.</p>
<p>Here is an example:</p>
<pre><code>data:
  matrix: {type: array, subtype: int, size: [8,8]}

...
    datasets:
      matrix: {type: array, subtype: int, size: 8}
...
        memory_selection:
          size: [1, 8]
          start: [4, 0]
        dataset_selection:
          size: 8
</code></pre><p>The graphical representation:</p>
<p><img src="/docs/imgs/PDI_hdf5_selection.jpg" alt="graphical representation"></p>
<p><img src="/docs/imgs/PDI_hdf5_selection.jpg" alt="graphical representation"></p>
<p><img src="/docs/imgs/PDI_hdf5_selection.jpg" alt="graphical representation"></p>
<p><img src="/docs/imgs/PDI_hdf5_selection.jpg" alt="graphical representation"></p>
<h3 id="ex8-writing-an-advanced-selection">Ex8. Writing an advanced selection</h3>
<p>You can also add dimensions, write the 2D array excluding ghosts as a slab of a 3D dataset including a dimension for the time-iteration. Write iterations 1 to 3 inclusive into dimensions 0 to 2.</p>
<p>Touch only the yaml file in this exercise.</p>
<p>Match the expected output described in <code>ex8.h5dump</code>.</p>
<p>Here is an example:</p>
<pre><code>data:
  matrix: {type: array, subtype: int, size: [8,8]}

...
    datasets:
      matrix: {type: array, subtype: int, size: [3, 8, 8]}
...
        memory_selection:
          size: [8, 8]
        dataset_selection:
          size: [1, 8, 8]
          start: [$ii, 0, 0]
</code></pre><p>And the graphical representation:</p>
<p><img src="/docs/imgs/PDI_hdf5_selection_advanced.jpg" alt="graphical representation"></p>
<p><img src="/docs/imgs/PDI_hdf5_selection_advanced.jpg" alt="graphical representation"></p>
<p><img src="/docs/imgs/PDI_hdf5_selection_advanced.jpg" alt="graphical representation"></p>
<p><img src="/docs/imgs/PDI_hdf5_selection_advanced.jpg" alt="graphical representation"></p>
<h3 id="ex9-going-parallel">Ex9. Going parallel</h3>
<p>Running the current code in parallel should already work and yield one file per process containing the local data block. In this exercise you will write one single file with parallel HDF5 whose content should be independent from the number of processes used.</p>
<p>The <code>mpi plugin</code> was loaded to make sharing MPI communicators possible.</p>
<p>There are several tasks in this exercise:</p>
<ol>
<li>Uncomment the <code>communicator</code> directive of the <a href="Decl_HDF5_plugin.html">Dec'HDF5 plugin</a> to switch to parallel I/O.</li>
<li>Change the file name so all processes open the same file.</li>
<li>Set the size of <code>main_field</code> in <code>datasets</code> tree to take the global matrix into account. Hint: use <code>psize</code>.</li>
<li>Ensure the dataset selection of each process does not overlap with the others. Hint: use <code>pcoord</code>.</li>
</ol>
<p>Try to match the output from <code>ex9.out</code>, that should be independent from the number of processes used.</p>
<p>Touch only the yaml file in this exercise.</p>
<p>Here is graphical representation of the parallel I/O:</p>
<p><img src="/docs/imgs/PDI_hdf5_parallel.jpg" alt="graphical representation of the parallel I\/O"></p>
<p><img src="/docs/imgs/PDI_hdf5_parallel.jpg" alt="graphical representation of the parallel I\/O"></p>
<p><img src="/docs/imgs/PDI_hdf5_parallel.jpg" alt="graphical representation of the parallel I\/O"></p>
<p><img src="/docs/imgs/PDI_hdf5_parallel.jpg" alt="graphical representation of the parallel I\/O"></p>
<h2 id="what-next-">What next ?</h2>
<p>You can experiment with other <a href="Plugins.html">plugins</a>. Have a look at the <a href="https://gitlab.maisondelasimulation.fr/pdidev/pdi/-/tree/master/example">PDI examples</a>.</p>

	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified January 1, 0001
</div>
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack for users" aria-label="Slack for users">
    <a class="text-white" target="_blank" href="https://join.slack.com/t/pdidev/shared_invite/enQtNDk5OTY2MDA0Nzg0LTlkM2U1MGQwZmM3OGM1MjA0M2VlMzUyNWNjODhkNmI4MjMwZmQxMTM1ODc2ODI4MjY4ODNmNDhmY2QzOWI4Nzk">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Gitlab for users" aria-label="Gitlab for users">
    <a class="text-white" target="_blank" href="https://gitlab.maisondelasimulation.fr/pdidev/pdi/-/tags">
      <i class="fab fa-gitlab"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitLab" aria-label="GitLab">
    <a class="text-white" target="_blank" href="https://gitlab.maisondelasimulation.fr/pdidev/">
      <i class="fab fa-gitlab"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" href="https://join.slack.com/t/pdidev/shared_invite/enQtNDk5OTY2MDA0Nzg0LTlkM2U1MGQwZmM3OGM1MjA0M2VlMzUyNWNjODhkNmI4MjMwZmQxMTM1ODc2ODI4MjY4ODNmNDhmY2QzOWI4Nzk">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Jenkins" aria-label="Jenkins">
    <a class="text-white" target="_blank" href="https://ci.inria.fr/ah5/">
      <i class="fab fa-jenkins"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/pdidev">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="DockerHub" aria-label="DockerHub">
    <a class="text-white" target="_blank" href="https://hub.docker.com/orgs/pdidev">
      <i class="fab fa-docker"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2020 The PDI team All Rights Reserved</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>









<script src="/new-site/js/main.min.b6dfd66b2d261380250c517fd39bc9d8659709e9fc924b00d8fed92e8d9df768.js" integrity="sha256-tt/Way0mE4AlDFF/05vJ2GWXCen8kksA2P7ZLo2d92g=" crossorigin="anonymous"></script>





  </body>
</html>